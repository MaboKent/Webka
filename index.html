<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISK - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏</title>
    <meta name="description" content="ISK - –ª—É—á—à–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏. –ù–æ—É—Ç–±—É–∫–∏, —Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã.">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
</head>
<body class="bg-gray-100">
    
    <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–≥ -->
    <header class="bg-blue-600 p-4">
        <div class="max-w-screen-xl mx-auto flex justify-between items-center">
            <a href="index.html" class="text-white text-2xl font-bold">ISK</a>
            <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤" class="w-1/3 p-2 rounded-md">
            <nav class="flex space-x-4">

                <a href="profile.html" class="text-white">–ü—Ä–æ—Ñ–∏–ª—å</a>
                <a href="rre.html" class="text-white">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                <a href="reg.html" class="text-white">–í—Ö–æ–¥</a>
                <a href="data.html" class="text-white">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
            </nav>
        </div>
    </header>

    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <nav class="max-w-screen-xl mx-auto p-4" aria-label="–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏">
        <ol class="flex space-x-2 text-sm text-gray-500">
            <li><a href="index.html" class="hover:text-blue-600">–ì–ª–∞–≤–Ω–∞—è</a></li>
        </ol>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–≥ -->
    <main class="max-w-screen-xl mx-auto">
        
        <!-- –°–µ–∫—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
        <section class="p-4" aria-labelledby="categories-heading">
            <h2 id="categories-heading" class="text-2xl font-bold mb-4">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <article class="p-4 bg-white shadow rounded-lg text-center">
                    <img src="image/noyt.png" alt="–ù–æ—É—Ç–±—É–∫–∏" class="mx-auto w-48" loading="lazy">
                    <h3 class="mt-2 font-semibold">–ù–æ—É—Ç–±—É–∫–∏</h3>
                </article>
                <article class="p-4 bg-white shadow rounded-lg text-center">
                    <img src="image/tel.png" alt="–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã" class="mx-auto w-48" loading="lazy">
                    <h3 class="mt-2 font-semibold">–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã</h3>
                </article>
                <article class="p-4 bg-white shadow rounded-lg text-center">
                    <img src="image/televisor.png" alt="–¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã" class="mx-auto w-48" loading="lazy">
                    <h3 class="mt-2 font-semibold">–¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã</h3>
                </article>
                <article class="p-4 bg-white shadow rounded-lg text-center">
                    <img src="image/naush.png" alt="–ù–∞—É—à–Ω–∏–∫–∏" class="mx-auto w-48" loading="lazy">
                    <h3 class="mt-2 font-semibold">–ù–∞—É—à–Ω–∏–∫–∏</h3>
                </article>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è —Ç–æ–ø –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (–î–û–ë–ê–í–ò–¢–¨ –≠–¢–£ –°–ï–ö–¶–ò–Æ!) -->
        <section class="p-4" aria-labelledby="offers-heading">
            <h2 id="offers-heading" class="text-2xl font-bold mb-4">–¢–æ–ø –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h2>
            <div id="topOffers" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∏–∑ Firebase -->
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ -->
        <section class="p-4" aria-labelledby="brands-heading">
            <h2 id="brands-heading" class="text-2xl font-bold mb-4">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã</h2>
            <div class="flex space-x-4" role="list">
                <img src="image/Apple.png" alt="Apple" class="h-12" loading="lazy" role="listitem">
                <img src="image/samsungbrend.png" alt="Samsung" class="h-12" loading="lazy" role="listitem">
                <img src="image/HP.png" alt="HP" class="h-12" loading="lazy" role="listitem">
                <img src="image/LG.png" alt="LG" class="h-12" loading="lazy" role="listitem">
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ -->
        <section class="p-4" aria-labelledby="reviews-heading">
            <h2 id="reviews-heading" class="text-2xl font-bold mb-4">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
            <blockquote class="bg-gray-100 p-4 rounded-lg">
                <p class="italic">"–û—Ç–ª–∏—á–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω, –≤—Å–µ–≥–¥–∞ –ø–æ–∫—É–ø–∞—é —Ç–µ—Ö–Ω–∏–∫—É –∑–¥–µ—Å—å!"</p>
                <footer class="font-bold mt-2">- –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤</footer>
            </blockquote>
        </section>

        <!-- –°–µ–∫—Ü–∏—è –∞–∫—Ü–∏–π -->
        <section class="p-4" aria-labelledby="news-heading">
            <h2 id="news-heading" class="text-2xl font-bold mb-4">–ù–æ–≤–æ—Å—Ç–∏ –∏ –∞–∫—Ü–∏–∏</h2>
            <article class="bg-yellow-100 p-4 rounded-lg">
                <h3 class="font-bold">üî• –°–∫–∏–¥–∫–∏ –¥–æ 50% –Ω–∞ –Ω–æ—É—Ç–±—É–∫–∏!</h3>
                <p class="mt-2">–£—Å–ø–µ–π—Ç–µ –∫—É–ø–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞ –ø–æ —Å—É–ø–µ—Ä—Ü–µ–Ω–∞–º!</p>
            </article>
        </section>

    </main>

    <!-- –ü–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞ - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ–≥ -->
    <footer class="bg-gray-800 text-white p-6 mt-6">
        <div class="max-w-screen-xl mx-auto flex justify-between">
            <p>&copy; 2025 ISK. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <nav class="flex space-x-4" aria-label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
                <a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            </nav>
        </div>
    </footer>

    <!-- Firebase —Å–∫—Ä–∏–ø—Ç (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSyvQcQ09MxokfvHStaiy-uoVy-g8inpI",
            authDomain: "webinternetmarket.firebaseapp.com",
            databaseURL: "https://webinternetmarket-default-rtdb.firebaseio.com",
            projectId: "webinternetmarket",
            storageBucket: "webinternetmarket.firebasestorage.app",
            messagingSenderId: "1021043818901",
            appId: "1:1021043818901:web:a9a4936d56dad3a03a769c",
            measurementId: "G-P370T6VPZQ"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        const topOffers = document.getElementById("topOffers");
        const searchInput = document.getElementById("searchInput");

        let productsList = [];

        function createProductCard(product) {
    const article = document.createElement("article");
    article.className = "p-4 bg-white shadow rounded-lg";

    article.innerHTML = `
        <img src="image/tovar.png" alt="${product.productName}" class="w-full h-48 object-cover rounded" loading="lazy">
        <h3 class="mt-2 font-bold text-lg">${product.productName}</h3>
        <p class="text-gray-700">–¶–µ–Ω–∞: <span class="font-bold">${product.Cost} ‚ÇΩ</span></p>
        <p class="text-sm text-gray-500 mt-1">${product.productDescription || ""}</p>
        <button class="mt-2 w-full bg-blue-900 text-white py-2 rounded hover:bg-blue-700 transition-colors">–ö—É–ø–∏—Ç—å</button>
    `;
    return article;
}


        function renderProducts(products) {
            if (!topOffers) {
                console.error('–≠–ª–µ–º–µ–Ω—Ç topOffers –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }
            
            topOffers.innerHTML = "";
            
            if (products.length === 0) {
                topOffers.innerHTML = '<p class="col-span-full text-center text-gray-500">–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }
            
            products.forEach(product => {
                const card = createProductCard(product);
                topOffers.appendChild(card);
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Firebase
        onValue(ref(database, "Tovar"), (snapshot) => {
    const products = snapshot.val();
    productsList = products ? Object.values(products) : [];

    console.log("–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ Firebase:", productsList);
    productsList.forEach((p, i) => console.log(`${i}:`, p));

    renderProducts(productsList);
});


        // –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤
        if (searchInput) {
    searchInput.addEventListener("input", () => {
        const query = searchInput.value.trim().toLowerCase();

        const filtered = productsList.filter(p =>
            String(p.productName || "")
                .trim()
                .toLowerCase()
                .includes(query)
        );

        renderProducts(filtered);
    });
}

    </script>
</body>
</html>